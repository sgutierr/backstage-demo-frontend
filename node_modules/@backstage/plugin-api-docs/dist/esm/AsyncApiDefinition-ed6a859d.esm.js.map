{"version":3,"file":"AsyncApiDefinition-ed6a859d.esm.js","sources":["../../src/components/AsyncApiDefinitionWidget/AsyncApiDefinition.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport AsyncApi from '@asyncapi/react-component';\nimport '@asyncapi/react-component/styles/default.css';\nimport { makeStyles, alpha, darken } from '@material-ui/core/styles';\nimport { BackstageTheme } from '@backstage/theme';\nimport React from 'react';\nimport { useTheme } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme: BackstageTheme) => ({\n  root: {\n    fontFamily: 'inherit',\n    '& .bg-white': {\n      background: 'none',\n    },\n    '& .text-4xl': {\n      ...theme.typography.h3,\n    },\n    ' & h2': {\n      ...theme.typography.h4,\n    },\n    '& .border': {\n      borderColor: alpha(theme.palette.border, 0.1),\n    },\n    '& .min-w-min': {\n      minWidth: 'fit-content',\n    },\n    '& .examples': {\n      padding: '1rem',\n    },\n    '& .bg-teal-500': {\n      backgroundColor: theme.palette.status.ok,\n    },\n    '& .bg-blue-500': {\n      backgroundColor: theme.palette.info.main,\n    },\n    '& .bg-blue-400': {\n      backgroundColor: theme.palette.info.light,\n    },\n    '& .bg-indigo-400': {\n      backgroundColor: theme.palette.warning.main,\n    },\n    '& .text-teal-50': {\n      color: theme.palette.status.ok,\n    },\n    '& .text-red-600': {\n      color: theme.palette.error.main,\n    },\n    '& .text-orange-600': {\n      color: theme.palette.warning.main,\n    },\n    '& .text-teal-500': {\n      color: theme.palette.status.ok,\n    },\n    '& .text-blue-500': {\n      color: theme.palette.info.main,\n    },\n    '& .-rotate-90': {\n      '--tw-rotate': '0deg',\n    },\n    '& button': {\n      ...theme.typography.button,\n      borderRadius: theme.shape.borderRadius,\n      color: theme.palette.primary.main,\n      // override whatever may be in the theme's typography to ensure consistency with asyncapi\n      textTransform: 'inherit',\n    },\n    '& a': {\n      color: theme.palette.link,\n    },\n    '& a.no-underline': {\n      ...theme.typography.button,\n      background: 'none',\n      boxSizing: 'border-box',\n      minWidth: 64,\n      borderRadius: theme.shape.borderRadius,\n      transition: theme.transitions.create(\n        ['background-color', 'box-shadow', 'border'],\n        {\n          duration: theme.transitions.duration.short,\n        },\n      ),\n      padding: '5px 15px',\n      color: theme.palette.primary.main,\n      border: `1px solid ${alpha(theme.palette.primary.main, 0.5)}`,\n      '&:hover': {\n        textDecoration: 'none',\n        border: `1px solid ${theme.palette.primary.main}`,\n        backgroundColor: alpha(\n          theme.palette.primary.main,\n          theme.palette.action.hoverOpacity,\n        ),\n      },\n    },\n    '& li.no-underline': {\n      '& a': {\n        textDecoration: 'none',\n        color: theme.palette.getContrastText(theme.palette.primary.main),\n      },\n    },\n  },\n  dark: {\n    '& svg': {\n      fill: theme.palette.text.primary,\n    },\n    '& .prose': {\n      color: theme.palette.text.secondary,\n      '& h3': {\n        color: theme.palette.text.primary,\n      },\n    },\n    '& .bg-gray-100, .bg-gray-200': {\n      backgroundColor: theme.palette.background.default,\n    },\n    '& .text-gray-600': {\n      color: theme.palette.grey['50'],\n    },\n    '& .text-gray-700': {\n      color: theme.palette.grey['100'],\n    },\n    '& .panel--right': {\n      background: darken(theme.palette.navigation.background, 0.1),\n    },\n    '& .examples': {\n      backgroundColor: darken(theme.palette.navigation.background, 0.1),\n      '& pre': {\n        backgroundColor: darken(theme.palette.background.default, 0.2),\n      },\n    },\n  },\n}));\n\nconst fetchResolver = {\n  order: 199, // Use 199 as the built-in http resolver is 200\n  canRead: /^https?:\\/\\//,\n  async read(file: any) {\n    const response = await fetch(file.url);\n    return response.text();\n  },\n};\n\nconst config = {\n  parserOptions: {\n    resolve: { fetch: fetchResolver },\n  },\n};\n\ntype Props = {\n  definition: string;\n};\n\nexport const AsyncApiDefinition = ({ definition }: Props): JSX.Element => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const classNames = `${classes.root} ${\n    theme.palette.type === 'dark' ? classes.dark : ''\n  }`;\n\n  return (\n    <div className={classNames}>\n      <AsyncApi schema={definition} config={config} />\n    </div>\n  );\n};\n"],"names":[],"mappings":"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"}