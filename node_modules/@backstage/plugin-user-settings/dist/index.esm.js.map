{"version":3,"file":"index.esm.js","sources":["../src/apis/StorageApi/UserSettingsStorage.ts","../src/plugin.ts","../src/components/Settings.tsx","../src/components/AuthProviders/EmptyProviders.tsx","../src/components/AuthProviders/ProviderSettingsAvatar.tsx","../src/components/AuthProviders/ProviderSettingsItem.tsx","../src/components/AuthProviders/DefaultProviderSettings.tsx","../src/components/AuthProviders/UserSettingsAuthProviders.tsx","../src/components/FeatureFlags/EmptyFlags.tsx","../src/components/FeatureFlags/FeatureFlagsItem.tsx","../src/components/FeatureFlags/UserSettingsFeatureFlags.tsx","../src/components/useUserProfileInfo.ts","../src/components/General/UserSettingsSignInAvatar.tsx","../src/components/General/UserSettingsMenu.tsx","../src/components/General/UserSettingsProfileCard.tsx","../src/components/General/UserSettingsPinToggle.tsx","../src/components/General/UserSettingsThemeToggle.tsx","../src/components/General/UserSettingsAppearanceCard.tsx","../src/components/General/UserSettingsIdentityCard.tsx","../src/components/General/UserSettingsGeneral.tsx","../src/components/SettingsLayout/SettingsLayout.tsx","../src/components/DefaultSettingsPage/DefaultSettingsPage.tsx","../src/components/SettingsPage/SettingsPage.tsx","../src/components/UserSettingsTab/UserSettingsTab.tsx"],"sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { WebStorage } from '@backstage/core-app-api';\nimport {\n  DiscoveryApi,\n  ErrorApi,\n  FetchApi,\n  IdentityApi,\n  StorageApi,\n  StorageValueSnapshot,\n} from '@backstage/core-plugin-api';\nimport { ResponseError } from '@backstage/errors';\nimport { JsonValue, Observable } from '@backstage/types';\nimport ObservableImpl from 'zen-observable';\n\nconst JSON_HEADERS = {\n  'Content-Type': 'application/json; charset=utf-8',\n  Accept: 'application/json',\n};\n\nconst buckets = new Map<string, UserSettingsStorage>();\n\n/**\n * An implementation of the storage API, that uses the user-settings backend to\n * persist the data in the DB.\n *\n * @public\n */\nexport class UserSettingsStorage implements StorageApi {\n  private subscribers = new Set<\n    ZenObservable.SubscriptionObserver<StorageValueSnapshot<JsonValue>>\n  >();\n\n  private readonly observables = new Map<\n    string,\n    Observable<StorageValueSnapshot<JsonValue>>\n  >();\n\n  private constructor(\n    private readonly namespace: string,\n    private readonly fetchApi: FetchApi,\n    private readonly discoveryApi: DiscoveryApi,\n    private readonly errorApi: ErrorApi,\n    private readonly identityApi: IdentityApi,\n    private readonly fallback: WebStorage,\n  ) {}\n\n  static create(options: {\n    fetchApi: FetchApi;\n    discoveryApi: DiscoveryApi;\n    errorApi: ErrorApi;\n    identityApi: IdentityApi;\n    namespace?: string;\n  }): UserSettingsStorage {\n    return new UserSettingsStorage(\n      options.namespace ?? 'default',\n      options.fetchApi,\n      options.discoveryApi,\n      options.errorApi,\n      options.identityApi,\n      WebStorage.create({\n        namespace: options.namespace,\n        errorApi: options.errorApi,\n      }),\n    );\n  }\n\n  forBucket(name: string): StorageApi {\n    // use dot instead of slash separator to have nicer URLs\n    const bucketPath = `${this.namespace}.${name}`;\n\n    if (!buckets.has(bucketPath)) {\n      buckets.set(\n        bucketPath,\n        new UserSettingsStorage(\n          bucketPath,\n          this.fetchApi,\n          this.discoveryApi,\n          this.errorApi,\n          this.identityApi,\n          this.fallback,\n        ),\n      );\n    }\n\n    return buckets.get(bucketPath)!;\n  }\n\n  async remove(key: string): Promise<void> {\n    const fetchUrl = await this.getFetchUrl(key);\n\n    const response = await this.fetchApi.fetch(fetchUrl, {\n      method: 'DELETE',\n    });\n\n    if (!response.ok && response.status !== 404) {\n      throw await ResponseError.fromResponse(response);\n    }\n\n    this.notifyChanges({ key, presence: 'absent' });\n  }\n\n  async set<T extends JsonValue>(key: string, data: T): Promise<void> {\n    if (!(await this.isSignedIn())) {\n      await this.fallback.set(key, data);\n      this.notifyChanges({ key, presence: 'present', value: data });\n      return;\n    }\n\n    const fetchUrl = await this.getFetchUrl(key);\n\n    const response = await this.fetchApi.fetch(fetchUrl, {\n      method: 'PUT',\n      headers: JSON_HEADERS,\n      body: JSON.stringify({ value: data }),\n    });\n\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n\n    const { value } = await response.json();\n\n    this.notifyChanges({ key, value, presence: 'present' });\n  }\n\n  observe$<T extends JsonValue>(\n    key: string,\n  ): Observable<StorageValueSnapshot<T>> {\n    if (!this.observables.has(key)) {\n      this.observables.set(\n        key,\n        new ObservableImpl<StorageValueSnapshot<JsonValue>>(subscriber => {\n          this.subscribers.add(subscriber);\n\n          // TODO(freben): Introduce server polling or similar, to ensure that different devices update when values change\n          Promise.resolve()\n            .then(() => this.get(key))\n            .then(snapshot => subscriber.next(snapshot))\n            .catch(error => this.errorApi.post(error));\n\n          return () => {\n            this.subscribers.delete(subscriber);\n          };\n        }).filter(({ key: messageKey }) => messageKey === key),\n      );\n    }\n\n    return this.observables.get(key) as Observable<StorageValueSnapshot<T>>;\n  }\n\n  snapshot<T extends JsonValue>(key: string): StorageValueSnapshot<T> {\n    return { key, presence: 'unknown' };\n  }\n\n  private async get<T extends JsonValue>(\n    key: string,\n  ): Promise<StorageValueSnapshot<T>> {\n    if (!(await this.isSignedIn())) {\n      // This explicitly uses WebStorage, which we know is synchronous and doesn't return presence: unknown\n      return this.fallback.snapshot(key);\n    }\n\n    const fetchUrl = await this.getFetchUrl(key);\n    const response = await this.fetchApi.fetch(fetchUrl);\n\n    if (response.status === 404) {\n      return { key, presence: 'absent' };\n    }\n\n    if (!response.ok) {\n      throw await ResponseError.fromResponse(response);\n    }\n\n    try {\n      const { value: rawValue } = await response.json();\n      const value = JSON.parse(JSON.stringify(rawValue), (_key, val) => {\n        if (typeof val === 'object' && val !== null) {\n          Object.freeze(val);\n        }\n        return val;\n      });\n\n      return { key, presence: 'present', value };\n    } catch {\n      // If the value is not valid JSON, we return an unknown presence. This should never happen\n      return { key, presence: 'absent' };\n    }\n  }\n\n  private async getFetchUrl(key: string) {\n    const baseUrl = await this.discoveryApi.getBaseUrl('user-settings');\n    const encodedNamespace = encodeURIComponent(this.namespace);\n    const encodedKey = encodeURIComponent(key);\n    return `${baseUrl}/buckets/${encodedNamespace}/keys/${encodedKey}`;\n  }\n\n  private async notifyChanges<T extends JsonValue>(\n    snapshot: StorageValueSnapshot<T>,\n  ) {\n    for (const subscription of this.subscribers) {\n      try {\n        subscription.next(snapshot);\n      } catch {\n        // ignore\n      }\n    }\n  }\n\n  private async isSignedIn(): Promise<boolean> {\n    try {\n      const credentials = await this.identityApi.getCredentials();\n      return credentials?.token ? true : false;\n    } catch {\n      return false;\n    }\n  }\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  createPlugin,\n  createRoutableExtension,\n  createRouteRef,\n} from '@backstage/core-plugin-api';\n\nexport const settingsRouteRef = createRouteRef({\n  id: 'user-settings',\n});\n\n/** @public */\nexport const userSettingsPlugin = createPlugin({\n  id: 'user-settings',\n  routes: {\n    settingsPage: settingsRouteRef,\n  },\n});\n\n/** @public */\nexport const UserSettingsPage = userSettingsPlugin.provide(\n  createRoutableExtension({\n    name: 'UserSettingsPage',\n    component: () =>\n      import('./components/SettingsPage').then(m => m.SettingsPage),\n    mountPoint: settingsRouteRef,\n  }),\n);\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { settingsRouteRef } from '../plugin';\nimport { SidebarItem } from '@backstage/core-components';\nimport { useRouteRef, IconComponent } from '@backstage/core-plugin-api';\n\n/** @public */\nexport const Settings = (props: { icon?: IconComponent }) => {\n  const routePath = useRouteRef(settingsRouteRef);\n  const Icon = props.icon ? props.icon : SettingsIcon;\n  return <SidebarItem text=\"Settings\" to={routePath()} icon={Icon} />;\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Button, Typography } from '@material-ui/core';\nimport { CodeSnippet, EmptyState } from '@backstage/core-components';\n\nconst EXAMPLE = `auth:\n  providers:\n    google:\n      development:\n        clientId: \\${AUTH_GOOGLE_CLIENT_ID}\n        clientSecret: \\${AUTH_GOOGLE_CLIENT_SECRET}\n`;\n\nexport const EmptyProviders = () => (\n  <EmptyState\n    missing=\"content\"\n    title=\"No Authentication Providers\"\n    description=\"You can add Authentication Providers to Backstage which allows you to use these providers to authenticate yourself.\"\n    action={\n      <>\n        <Typography variant=\"body1\">\n          Open <code>app-config.yaml</code> and make the changes as highlighted\n          below:\n        </Typography>\n        <CodeSnippet\n          text={EXAMPLE}\n          language=\"yaml\"\n          showLineNumbers\n          highlightedNumbers={[3, 4, 5, 6, 7, 8]}\n          customStyle={{ background: 'inherit', fontSize: '115%' }}\n        />\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          href=\"https://backstage.io/docs/auth/add-auth-provider\"\n        >\n          Read More\n        </Button>\n      </>\n    }\n  />\n);\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { BackstageTheme } from '@backstage/theme';\nimport { makeStyles, Avatar } from '@material-ui/core';\nimport { sidebarConfig } from '@backstage/core-components';\n\nconst useStyles = makeStyles<BackstageTheme, { size: number }>(theme => ({\n  avatar: {\n    width: ({ size }) => size,\n    height: ({ size }) => size,\n    fontSize: ({ size }) => size * 0.7,\n    border: `1px solid ${theme.palette.textSubtle}`,\n  },\n}));\n\ntype Props = { size?: number; picture: string | undefined };\n\nexport const ProviderSettingsAvatar = ({ size, picture }: Props) => {\n  const { iconSize } = sidebarConfig;\n  const classes = useStyles(size ? { size } : { size: iconSize });\n\n  return <Avatar src={picture} className={classes.avatar} />;\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport {\n  Button,\n  Grid,\n  ListItem,\n  ListItemIcon,\n  ListItemSecondaryAction,\n  ListItemText,\n  Tooltip,\n  Typography,\n} from '@material-ui/core';\nimport {\n  ApiRef,\n  SessionApi,\n  SessionState,\n  ProfileInfoApi,\n  ProfileInfo,\n  useApi,\n  errorApiRef,\n  IconComponent,\n} from '@backstage/core-plugin-api';\nimport { ProviderSettingsAvatar } from './ProviderSettingsAvatar';\n\n/** @public */\nexport const ProviderSettingsItem = (props: {\n  title: string;\n  description: string;\n  icon: IconComponent;\n  apiRef: ApiRef<ProfileInfoApi & SessionApi>;\n}) => {\n  const { title, description, icon: Icon, apiRef } = props;\n\n  const api = useApi(apiRef);\n  const errorApi = useApi(errorApiRef);\n  const [signedIn, setSignedIn] = useState(false);\n  const emptyProfile: ProfileInfo = {};\n  const [profile, setProfile] = useState(emptyProfile);\n\n  useEffect(() => {\n    let didCancel = false;\n\n    const subscription = api\n      .sessionState$()\n      .subscribe((sessionState: SessionState) => {\n        if (!didCancel) {\n          api\n            .getProfile({ optional: true })\n            .then((profileResponse: ProfileInfo | undefined) => {\n              if (!didCancel) {\n                if (sessionState === SessionState.SignedIn) {\n                  setSignedIn(true);\n                }\n                if (profileResponse) {\n                  setProfile(profileResponse);\n                }\n              }\n            });\n        }\n      });\n\n    return () => {\n      didCancel = true;\n      subscription.unsubscribe();\n    };\n  }, [api]);\n\n  return (\n    <ListItem>\n      <ListItemIcon>\n        <Icon />\n      </ListItemIcon>\n      <ListItemText\n        primary={title}\n        secondary={\n          <Tooltip placement=\"top\" arrow title={description}>\n            <Grid container spacing={6}>\n              <Grid item>\n                <ProviderSettingsAvatar size={48} picture={profile.picture} />\n              </Grid>\n              <Grid item xs={12} sm container>\n                <Grid item xs container direction=\"column\" spacing={2}>\n                  <Grid item xs>\n                    <Typography\n                      variant=\"subtitle1\"\n                      color=\"textPrimary\"\n                      gutterBottom\n                    >\n                      {profile.displayName}\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\">\n                      {profile.email}\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\">\n                      {description}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Tooltip>\n        }\n        secondaryTypographyProps={{ noWrap: true, style: { width: '80%' } }}\n      />\n      <ListItemSecondaryAction>\n        <Tooltip\n          placement=\"top\"\n          arrow\n          title={signedIn ? `Sign out from ${title}` : `Sign in to ${title}`}\n        >\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={() => {\n              const action = signedIn ? api.signOut() : api.signIn();\n              action.catch(error => errorApi.post(error));\n            }}\n          >\n            {signedIn ? `Sign out` : `Sign in`}\n          </Button>\n        </Tooltip>\n      </ListItemSecondaryAction>\n    </ListItem>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Star from '@material-ui/icons/Star';\nimport React from 'react';\nimport { ProviderSettingsItem } from './ProviderSettingsItem';\nimport {\n  githubAuthApiRef,\n  gitlabAuthApiRef,\n  googleAuthApiRef,\n  oktaAuthApiRef,\n  microsoftAuthApiRef,\n  bitbucketAuthApiRef,\n  bitbucketServerAuthApiRef,\n  atlassianAuthApiRef,\n  oneloginAuthApiRef,\n} from '@backstage/core-plugin-api';\n\n/** @public */\nexport const DefaultProviderSettings = (props: {\n  configuredProviders: string[];\n}) => {\n  const { configuredProviders } = props;\n  return (\n    <>\n      {configuredProviders.includes('google') && (\n        <ProviderSettingsItem\n          title=\"Google\"\n          description=\"Provides authentication towards Google APIs and identities\"\n          apiRef={googleAuthApiRef}\n          icon={Star}\n        />\n      )}\n      {configuredProviders.includes('microsoft') && (\n        <ProviderSettingsItem\n          title=\"Microsoft\"\n          description=\"Provides authentication towards Microsoft APIs and identities\"\n          apiRef={microsoftAuthApiRef}\n          icon={Star}\n        />\n      )}\n      {configuredProviders.includes('github') && (\n        <ProviderSettingsItem\n          title=\"GitHub\"\n          description=\"Provides authentication towards GitHub APIs\"\n          apiRef={githubAuthApiRef}\n          icon={Star}\n        />\n      )}\n      {configuredProviders.includes('gitlab') && (\n        <ProviderSettingsItem\n          title=\"GitLab\"\n          description=\"Provides authentication towards GitLab APIs\"\n          apiRef={gitlabAuthApiRef}\n          icon={Star}\n        />\n      )}\n      {configuredProviders.includes('okta') && (\n        <ProviderSettingsItem\n          title=\"Okta\"\n          description=\"Provides authentication towards Okta APIs\"\n          apiRef={oktaAuthApiRef}\n          icon={Star}\n        />\n      )}\n      {configuredProviders.includes('bitbucket') && (\n        <ProviderSettingsItem\n          title=\"Bitbucket\"\n          description=\"Provides authentication towards Bitbucket APIs\"\n          apiRef={bitbucketAuthApiRef}\n          icon={Star}\n        />\n      )}\n      {configuredProviders.includes('onelogin') && (\n        <ProviderSettingsItem\n          title=\"OneLogin\"\n          description=\"Provides authentication towards OneLogin APIs\"\n          apiRef={oneloginAuthApiRef}\n          icon={Star}\n        />\n      )}\n      {configuredProviders.includes('atlassian') && (\n        <ProviderSettingsItem\n          title=\"Atlassian\"\n          description=\"Provides authentication towards Atlassian APIs\"\n          apiRef={atlassianAuthApiRef}\n          icon={Star}\n        />\n      )}\n      {configuredProviders.includes('bitbucketServer') && (\n        <ProviderSettingsItem\n          title=\"Bitbucket Server\"\n          description=\"Provides authentication towards Bitbucket Server APIs\"\n          apiRef={bitbucketServerAuthApiRef}\n          icon={Star}\n        />\n      )}\n    </>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { List } from '@material-ui/core';\nimport { EmptyProviders } from './EmptyProviders';\nimport { DefaultProviderSettings } from './DefaultProviderSettings';\nimport { configApiRef, useApi } from '@backstage/core-plugin-api';\nimport { InfoCard } from '@backstage/core-components';\n\n/** @public */\nexport const UserSettingsAuthProviders = (props: {\n  providerSettings?: JSX.Element;\n}) => {\n  const { providerSettings } = props;\n  const configApi = useApi(configApiRef);\n  const providersConfig = configApi.getOptionalConfig('auth.providers');\n  const configuredProviders = providersConfig?.keys() || [];\n  const providers = providerSettings ?? (\n    <DefaultProviderSettings configuredProviders={configuredProviders} />\n  );\n\n  if (!providerSettings && !configuredProviders?.length) {\n    return <EmptyProviders />;\n  }\n\n  return (\n    <InfoCard title=\"Available Providers\">\n      <List dense>{providers}</List>\n    </InfoCard>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { Button, Typography } from '@material-ui/core';\nimport { CodeSnippet, EmptyState } from '@backstage/core-components';\n\nconst EXAMPLE = `import { createPlugin } from '@backstage/core-plugin-api';\n\nexport default createPlugin({\n  id: 'plugin-name',\n  featureFlags: [{ name: 'enable-example-feature' }],\n});\n`;\n\nexport const EmptyFlags = () => (\n  <EmptyState\n    missing=\"content\"\n    title=\"No Feature Flags\"\n    description=\"Feature Flags make it possible for plugins to register features in Backstage for users to opt into. You can use this to split out logic in your code for manual A/B testing, etc.\"\n    action={\n      <>\n        <Typography variant=\"body1\">\n          An example for how to add a feature flag is highlighted below:\n        </Typography>\n        <CodeSnippet\n          text={EXAMPLE}\n          language=\"typescript\"\n          showLineNumbers\n          highlightedNumbers={[6]}\n          customStyle={{ background: 'inherit', fontSize: '115%' }}\n        />\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          href=\"https://backstage.io/docs/api/utility-apis\"\n        >\n          Read More\n        </Button>\n      </>\n    }\n  />\n);\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport {\n  ListItem,\n  ListItemText,\n  ListItemIcon,\n  Switch,\n  Tooltip,\n} from '@material-ui/core';\nimport { FeatureFlag } from '@backstage/core-plugin-api';\n\ntype Props = {\n  flag: FeatureFlag;\n  enabled: boolean;\n  toggleHandler: Function;\n};\n\nconst getSecondaryText = (flag: FeatureFlag) => {\n  if (flag.description) {\n    return flag.description;\n  }\n  return flag.pluginId\n    ? `Registered in ${flag.pluginId} plugin`\n    : 'Registered in the application';\n};\n\nexport const FlagItem = ({ flag, enabled, toggleHandler }: Props) => (\n  <ListItem divider button onClick={() => toggleHandler(flag.name)}>\n    <ListItemIcon>\n      <Tooltip placement=\"top\" arrow title={enabled ? 'Disable' : 'Enable'}>\n        <Switch color=\"primary\" checked={enabled} name={flag.name} />\n      </Tooltip>\n    </ListItemIcon>\n    <ListItemText primary={flag.name} secondary={getSecondaryText(flag)} />\n  </ListItem>\n);\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useCallback, useState } from 'react';\nimport {\n  List,\n  TextField,\n  IconButton,\n  Grid,\n  Typography,\n} from '@material-ui/core';\nimport { EmptyFlags } from './EmptyFlags';\nimport { FlagItem } from './FeatureFlagsItem';\nimport {\n  featureFlagsApiRef,\n  FeatureFlagState,\n  useApi,\n} from '@backstage/core-plugin-api';\nimport { InfoCard } from '@backstage/core-components';\nimport ClearIcon from '@material-ui/icons/Clear';\n\n/** @public */\nexport const UserSettingsFeatureFlags = () => {\n  const featureFlagsApi = useApi(featureFlagsApiRef);\n  const featureFlags = featureFlagsApi.getRegisteredFlags();\n\n  const initialFlagState = Object.fromEntries(\n    featureFlags.map(({ name }) => [name, featureFlagsApi.isActive(name)]),\n  );\n\n  const [state, setState] = useState<Record<string, boolean>>(initialFlagState);\n  const [filterInput, setFilterInput] = useState<string>('');\n  const inputRef = React.useRef<HTMLElement>();\n\n  const toggleFlag = useCallback(\n    (flagName: string) => {\n      const newState = featureFlagsApi.isActive(flagName)\n        ? FeatureFlagState.None\n        : FeatureFlagState.Active;\n\n      featureFlagsApi.save({\n        states: { [flagName]: newState },\n        merge: true,\n      });\n\n      setState(prevState => ({\n        ...prevState,\n        [flagName]: newState === FeatureFlagState.Active,\n      }));\n    },\n    [featureFlagsApi],\n  );\n\n  if (!featureFlags.length) {\n    return <EmptyFlags />;\n  }\n\n  const clearFilterInput = () => {\n    setFilterInput('');\n    inputRef?.current?.focus();\n  };\n\n  const filteredFeatureFlags = featureFlags.filter(featureFlag => {\n    const featureFlagName = featureFlag.name.toLocaleLowerCase('en-US');\n    return featureFlagName.includes(filterInput.toLocaleLowerCase('en-US'));\n  });\n\n  const Header = () => (\n    <Grid container style={{ justifyContent: 'space-between' }}>\n      <Grid item xs={6} md={8}>\n        <Typography variant=\"h5\">Feature Flags</Typography>\n        <Typography variant=\"subtitle1\">\n          Please refresh the page when toggling feature flags\n        </Typography>\n      </Grid>\n      {featureFlags.length >= 10 && (\n        <Grid item xs={6} md={4}>\n          <TextField\n            label=\"Filter\"\n            style={{ display: 'flex', justifyContent: 'flex-end' }}\n            inputRef={ref => ref && ref.focus()}\n            InputProps={{\n              ...(filterInput.length && {\n                endAdornment: (\n                  <IconButton\n                    aria-label=\"Clear filter\"\n                    onClick={clearFilterInput}\n                    edge=\"end\"\n                  >\n                    <ClearIcon />\n                  </IconButton>\n                ),\n              }),\n            }}\n            onChange={e => setFilterInput(e.target.value)}\n            value={filterInput}\n          />\n        </Grid>\n      )}\n    </Grid>\n  );\n\n  return (\n    <InfoCard title={<Header />}>\n      <List dense>\n        {filteredFeatureFlags.map(featureFlag => {\n          const enabled = Boolean(state[featureFlag.name]);\n\n          return (\n            <FlagItem\n              key={featureFlag.name}\n              flag={featureFlag}\n              enabled={enabled}\n              toggleHandler={toggleFlag}\n            />\n          );\n        })}\n      </List>\n    </InfoCard>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  alertApiRef,\n  identityApiRef,\n  ProfileInfo,\n  useApi,\n} from '@backstage/core-plugin-api';\nimport { useEffect } from 'react';\nimport useAsync from 'react-use/lib/useAsync';\n\n/** @public */\nexport const useUserProfile = () => {\n  const identityApi = useApi(identityApiRef);\n  const alertApi = useApi(alertApiRef);\n\n  const { value, loading, error } = useAsync(async () => {\n    return {\n      profile: await identityApi.getProfileInfo(),\n      identity: await identityApi.getBackstageIdentity(),\n    };\n  }, []);\n\n  useEffect(() => {\n    if (error) {\n      alertApi.post({\n        message: `Failed to load user identity: ${error}`,\n        severity: 'error',\n      });\n    }\n  }, [error, alertApi]);\n\n  if (loading || error) {\n    return {\n      profile: {} as ProfileInfo,\n      displayName: '',\n      loading,\n    };\n  }\n\n  return {\n    profile: value!.profile,\n    backstageIdentity: value!.identity,\n    displayName: value!.profile.displayName ?? value!.identity.userEntityRef,\n    loading,\n  };\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { BackstageTheme } from '@backstage/theme';\nimport { makeStyles, Avatar } from '@material-ui/core';\nimport { useUserProfile } from '../useUserProfileInfo';\nimport { sidebarConfig } from '@backstage/core-components';\n\nconst useStyles = makeStyles<BackstageTheme, { size: number }>(theme => ({\n  avatar: {\n    width: ({ size }) => size,\n    height: ({ size }) => size,\n    fontSize: ({ size }) => size * 0.7,\n    border: `1px solid ${theme.palette.textSubtle}`,\n  },\n}));\n\n/** @public */\nexport const UserSettingsSignInAvatar = (props: { size?: number }) => {\n  const { size } = props;\n\n  const { iconSize } = sidebarConfig;\n  const classes = useStyles(size ? { size } : { size: iconSize });\n  const { profile } = useUserProfile();\n\n  return (\n    <Avatar\n      src={profile.picture}\n      className={classes.avatar}\n      alt=\"Profile picture\"\n    />\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { IconButton, ListItemIcon, Menu, MenuItem } from '@material-ui/core';\nimport SignOutIcon from '@material-ui/icons/MeetingRoom';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport {\n  identityApiRef,\n  errorApiRef,\n  useApi,\n} from '@backstage/core-plugin-api';\n\n/** @public */\nexport const UserSettingsMenu = () => {\n  const errorApi = useApi(errorApiRef);\n  const identityApi = useApi(identityApiRef);\n  const [open, setOpen] = React.useState(false);\n  const [anchorEl, setAnchorEl] = React.useState<undefined | HTMLElement>(\n    undefined,\n  );\n\n  const handleOpen = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(undefined);\n    setOpen(false);\n  };\n\n  return (\n    <>\n      <IconButton\n        data-testid=\"user-settings-menu\"\n        aria-label=\"more\"\n        onClick={handleOpen}\n      >\n        <MoreVertIcon />\n      </IconButton>\n      <Menu anchorEl={anchorEl} open={open} onClose={handleClose}>\n        <MenuItem\n          data-testid=\"sign-out\"\n          onClick={() =>\n            identityApi.signOut().catch(error => errorApi.post(error))\n          }\n        >\n          <ListItemIcon>\n            <SignOutIcon />\n          </ListItemIcon>\n          Sign Out\n        </MenuItem>\n      </Menu>\n    </>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Grid, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { UserSettingsSignInAvatar } from './UserSettingsSignInAvatar';\nimport { UserSettingsMenu } from './UserSettingsMenu';\nimport { useUserProfile } from '../useUserProfileInfo';\nimport { InfoCard } from '@backstage/core-components';\n\n/** @public */\nexport const UserSettingsProfileCard = () => {\n  const { profile, displayName } = useUserProfile();\n\n  return (\n    <InfoCard title=\"Profile\" variant=\"gridItem\">\n      <Grid container spacing={6}>\n        <Grid item>\n          <UserSettingsSignInAvatar size={96} />\n        </Grid>\n        <Grid item xs={12} sm container>\n          <Grid item xs container direction=\"column\" spacing={2}>\n            <Grid item xs>\n              <Typography variant=\"subtitle1\" gutterBottom>\n                {displayName}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {profile.email}\n              </Typography>\n            </Grid>\n          </Grid>\n          <Grid item>\n            <UserSettingsMenu />\n          </Grid>\n        </Grid>\n      </Grid>\n    </InfoCard>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport {\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  Switch,\n  Tooltip,\n} from '@material-ui/core';\nimport { useSidebarPinState } from '@backstage/core-components';\n\n/** @public */\nexport const UserSettingsPinToggle = () => {\n  const { isPinned, toggleSidebarPinState } = useSidebarPinState();\n\n  return (\n    <ListItem>\n      <ListItemText\n        primary=\"Pin Sidebar\"\n        secondary=\"Prevent the sidebar from collapsing\"\n      />\n      <ListItemSecondaryAction>\n        <Tooltip\n          placement=\"top\"\n          arrow\n          title={`${isPinned ? 'Unpin' : 'Pin'} Sidebar`}\n        >\n          <Switch\n            color=\"primary\"\n            checked={isPinned}\n            onChange={() => toggleSidebarPinState()}\n            name=\"pin\"\n            inputProps={{ 'aria-label': 'Pin Sidebar Switch' }}\n          />\n        </Tooltip>\n      </ListItemSecondaryAction>\n    </ListItem>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { cloneElement } from 'react';\nimport useObservable from 'react-use/lib/useObservable';\nimport AutoIcon from '@material-ui/icons/BrightnessAuto';\nimport ToggleButton from '@material-ui/lab/ToggleButton';\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\nimport {\n  ListItem,\n  ListItemText,\n  ListItemSecondaryAction,\n  Tooltip,\n  makeStyles,\n} from '@material-ui/core';\nimport { appThemeApiRef, useApi } from '@backstage/core-plugin-api';\n\ntype ThemeIconProps = {\n  id: string;\n  activeId: string | undefined;\n  icon: JSX.Element | undefined;\n};\n\nconst ThemeIcon = ({ id, activeId, icon }: ThemeIconProps) =>\n  icon ? (\n    cloneElement(icon, {\n      color: activeId === id ? 'primary' : undefined,\n    })\n  ) : (\n    <AutoIcon color={activeId === id ? 'primary' : undefined} />\n  );\n\ntype TooltipToggleButtonProps = {\n  children: JSX.Element;\n  title: string;\n  value: string;\n};\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    width: '100%',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingBottom: 8,\n    paddingRight: 16,\n  },\n  list: {\n    width: 'initial',\n    [theme.breakpoints.down('xs')]: {\n      width: '100%',\n      padding: `0 0 12px`,\n    },\n  },\n  listItemText: {\n    paddingRight: 0,\n    paddingLeft: 0,\n  },\n  listItemSecondaryAction: {\n    position: 'relative',\n    transform: 'unset',\n    top: 'auto',\n    right: 'auto',\n    paddingLeft: 16,\n    [theme.breakpoints.down('xs')]: {\n      paddingLeft: 0,\n    },\n  },\n}));\n\n// ToggleButtonGroup uses React.children.map instead of context\n// so wrapping with Tooltip breaks ToggleButton functionality.\nconst TooltipToggleButton = ({\n  children,\n  title,\n  value,\n  ...props\n}: TooltipToggleButtonProps) => (\n  <Tooltip placement=\"top\" arrow title={title}>\n    <ToggleButton value={value} {...props}>\n      {children}\n    </ToggleButton>\n  </Tooltip>\n);\n\n/** @public */\nexport const UserSettingsThemeToggle = () => {\n  const classes = useStyles();\n  const appThemeApi = useApi(appThemeApiRef);\n  const themeId = useObservable(\n    appThemeApi.activeThemeId$(),\n    appThemeApi.getActiveThemeId(),\n  );\n\n  const themeIds = appThemeApi.getInstalledThemes();\n\n  const handleSetTheme = (\n    _event: React.MouseEvent<HTMLElement>,\n    newThemeId: string | undefined,\n  ) => {\n    if (themeIds.some(t => t.id === newThemeId)) {\n      appThemeApi.setActiveThemeId(newThemeId);\n    } else {\n      appThemeApi.setActiveThemeId(undefined);\n    }\n  };\n\n  return (\n    <ListItem\n      className={classes.list}\n      classes={{ container: classes.container }}\n    >\n      <ListItemText\n        className={classes.listItemText}\n        primary=\"Theme\"\n        secondary=\"Change the theme mode\"\n      />\n      <ListItemSecondaryAction className={classes.listItemSecondaryAction}>\n        <ToggleButtonGroup\n          exclusive\n          size=\"small\"\n          value={themeId ?? 'auto'}\n          onChange={handleSetTheme}\n        >\n          {themeIds.map(theme => {\n            const themeIcon = themeIds.find(t => t.id === theme.id)?.icon;\n            return (\n              <TooltipToggleButton\n                key={theme.id}\n                title={`Select ${theme.title}`}\n                value={theme.id}\n              >\n                <>\n                  {theme.title}&nbsp;\n                  <ThemeIcon\n                    id={theme.id}\n                    icon={themeIcon}\n                    activeId={themeId}\n                  />\n                </>\n              </TooltipToggleButton>\n            );\n          })}\n          <Tooltip placement=\"top\" arrow title=\"Select auto theme\">\n            <ToggleButton value=\"auto\" selected={themeId === undefined}>\n              Auto&nbsp;\n              <AutoIcon color={themeId === undefined ? 'primary' : undefined} />\n            </ToggleButton>\n          </Tooltip>\n        </ToggleButtonGroup>\n      </ListItemSecondaryAction>\n    </ListItem>\n  );\n};\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InfoCard, useSidebarPinState } from '@backstage/core-components';\nimport { List } from '@material-ui/core';\nimport React from 'react';\nimport { UserSettingsPinToggle } from './UserSettingsPinToggle';\nimport { UserSettingsThemeToggle } from './UserSettingsThemeToggle';\n\n/** @public */\nexport const UserSettingsAppearanceCard = () => {\n  const { isMobile } = useSidebarPinState();\n\n  return (\n    <InfoCard title=\"Appearance\" variant=\"gridItem\">\n      <List dense>\n        <UserSettingsThemeToggle />\n        {!isMobile && <UserSettingsPinToggle />}\n      </List>\n    </InfoCard>\n  );\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InfoCard } from '@backstage/core-components';\nimport { EntityRefLinks } from '@backstage/plugin-catalog-react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport React from 'react';\nimport { useUserProfile } from '../useUserProfileInfo';\n\nconst Contents = () => {\n  const { backstageIdentity } = useUserProfile();\n\n  if (!backstageIdentity) {\n    return <Typography>No Backstage Identity</Typography>;\n  }\n\n  return (\n    <Grid container spacing={1}>\n      <Grid item xs={12}>\n        <Typography variant=\"subtitle1\" gutterBottom>\n          User Entity:{' '}\n          <EntityRefLinks\n            entityRefs={[backstageIdentity.userEntityRef]}\n            getTitle={ref => ref}\n          />\n        </Typography>\n      </Grid>\n      <Grid item xs={12}>\n        <Typography variant=\"subtitle1\">\n          Ownership Entities:{' '}\n          <EntityRefLinks\n            entityRefs={backstageIdentity.ownershipEntityRefs}\n            getTitle={ref => ref}\n          />\n        </Typography>\n      </Grid>\n    </Grid>\n  );\n};\n\n/** @public */\nexport const UserSettingsIdentityCard = () => (\n  <InfoCard title=\"Backstage Identity\">\n    <Contents />\n  </InfoCard>\n);\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Grid } from '@material-ui/core';\nimport React from 'react';\nimport { UserSettingsProfileCard } from './UserSettingsProfileCard';\nimport { UserSettingsAppearanceCard } from './UserSettingsAppearanceCard';\nimport { UserSettingsIdentityCard } from './UserSettingsIdentityCard';\n\n/** @public */\nexport const UserSettingsGeneral = () => {\n  return (\n    <Grid container direction=\"row\" spacing={3}>\n      <Grid item xs={12} md={6}>\n        <UserSettingsProfileCard />\n      </Grid>\n      <Grid item xs={12} md={6}>\n        <UserSettingsAppearanceCard />\n      </Grid>\n      <Grid item xs={12} md={6}>\n        <UserSettingsIdentityCard />\n      </Grid>\n    </Grid>\n  );\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { TabProps } from '@material-ui/core';\nimport {\n  Header,\n  Page,\n  RoutedTabs,\n  useSidebarPinState,\n} from '@backstage/core-components';\nimport {\n  attachComponentData,\n  useElementFilter,\n} from '@backstage/core-plugin-api';\n\n/** @public */\nexport type SettingsLayoutRouteProps = {\n  path: string;\n  title: string;\n  children: JSX.Element;\n  tabProps?: TabProps<React.ElementType, { component?: React.ElementType }>;\n};\n\nexport const LAYOUT_DATA_KEY = 'plugin.user-settings.settingsLayout';\nexport const LAYOUT_ROUTE_DATA_KEY = 'plugin.user-settings.settingsLayoutRoute';\n\nconst Route: (props: SettingsLayoutRouteProps) => null = () => null;\nattachComponentData(Route, LAYOUT_ROUTE_DATA_KEY, true);\n\n// This causes all mount points that are discovered within this route to use the path of the route itself\nattachComponentData(Route, 'core.gatherMountPoints', true);\n\n/** @public */\nexport type SettingsLayoutProps = {\n  title?: string;\n  subtitle?: string;\n  children?: React.ReactNode;\n};\n\n/**\n * @public\n */\nexport const SettingsLayout = (props: SettingsLayoutProps) => {\n  const { title, children } = props;\n  const { isMobile } = useSidebarPinState();\n\n  const routes = useElementFilter(children, elements =>\n    elements\n      .selectByComponentData({\n        key: LAYOUT_ROUTE_DATA_KEY,\n        withStrictError:\n          'Child of SettingsLayout must be an SettingsLayout.Route',\n      })\n      .getElements<SettingsLayoutRouteProps>()\n      .map(child => child.props),\n  );\n\n  return (\n    <Page themeId=\"home\">\n      {!isMobile && <Header title={title ?? 'Settings'} />}\n      <RoutedTabs routes={routes} />\n    </Page>\n  );\n};\n\nattachComponentData(SettingsLayout, LAYOUT_DATA_KEY, true);\n\nSettingsLayout.Route = Route;\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { UserSettingsAuthProviders } from '../AuthProviders';\nimport { UserSettingsFeatureFlags } from '../FeatureFlags';\nimport { UserSettingsGeneral } from '../General';\nimport { SettingsLayout, SettingsLayoutRouteProps } from '../SettingsLayout';\n\n/**\n * @public\n */\nexport const DefaultSettingsPage = (props: {\n  tabs?: React.ReactElement<SettingsLayoutRouteProps>[];\n  providerSettings?: JSX.Element;\n}) => {\n  const { providerSettings, tabs } = props;\n\n  return (\n    <SettingsLayout>\n      <SettingsLayout.Route path=\"general\" title=\"General\">\n        <UserSettingsGeneral />\n      </SettingsLayout.Route>\n      <SettingsLayout.Route\n        path=\"auth-providers\"\n        title=\"Authentication Providers\"\n      >\n        <UserSettingsAuthProviders providerSettings={providerSettings} />\n      </SettingsLayout.Route>\n      <SettingsLayout.Route path=\"feature-flags\" title=\"Feature Flags\">\n        <UserSettingsFeatureFlags />\n      </SettingsLayout.Route>\n      {tabs}\n    </SettingsLayout>\n  );\n};\n","/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useOutlet } from 'react-router-dom';\nimport React from 'react';\nimport { DefaultSettingsPage } from '../DefaultSettingsPage';\nimport { useElementFilter } from '@backstage/core-plugin-api';\nimport {\n  SettingsLayoutProps,\n  SettingsLayoutRouteProps,\n} from '../SettingsLayout';\nimport {\n  LAYOUT_DATA_KEY,\n  LAYOUT_ROUTE_DATA_KEY,\n} from '../SettingsLayout/SettingsLayout';\n\n/** @public */\nexport const SettingsPage = (props: { providerSettings?: JSX.Element }) => {\n  const { providerSettings } = props;\n  const outlet = useOutlet();\n  const layout = useElementFilter(outlet, elements =>\n    elements\n      .selectByComponentData({\n        key: LAYOUT_DATA_KEY,\n      })\n      .getElements<SettingsLayoutProps>(),\n  );\n  const tabs = useElementFilter(outlet, elements =>\n    elements\n      .selectByComponentData({\n        key: LAYOUT_ROUTE_DATA_KEY,\n      })\n      .getElements<SettingsLayoutRouteProps>(),\n  );\n\n  return (\n    <>\n      {(layout.length !== 0 && layout) || (\n        <DefaultSettingsPage tabs={tabs} providerSettings={providerSettings} />\n      )}\n    </>\n  );\n};\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { PropsWithChildren } from 'react';\nimport { attachComponentData } from '@backstage/core-plugin-api';\nimport {\n  LAYOUT_ROUTE_DATA_KEY,\n  SettingsLayout,\n} from '../SettingsLayout/SettingsLayout';\n\n/** @public @deprecated Use SettingsLayout.Route approach instead */\nexport const USER_SETTINGS_TAB_KEY = LAYOUT_ROUTE_DATA_KEY;\n\n/** @public @deprecated Use SettingsLayoutRouteProps instead */\nexport type UserSettingsTabProps = PropsWithChildren<{\n  /**\n   * The path to the tab in the settings route\n   * @example `/settings/advanced`\n   */\n  path: string;\n  /** The title of the tab. It will also reflect in the document title when the tab is active */\n  title: string;\n}>;\n\n/**\n * Renders a tab inside the settings page\n * @param props - Component props\n * @public\n * @deprecated Use SettingsLayout.Route instead\n */\nexport const UserSettingsTab = (props: UserSettingsTabProps) => (\n  <SettingsLayout.Route path={props.path} title={props.title}>\n    <>props.children</>\n  </SettingsLayout.Route>\n);\n\nattachComponentData(UserSettingsTab, USER_SETTINGS_TAB_KEY, 'UserSettingsTab');\n"],"names":["EXAMPLE","useStyles","Typography","Grid"],"mappings":"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"}