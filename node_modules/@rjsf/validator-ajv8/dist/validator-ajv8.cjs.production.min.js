"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("lodash/get"),e=require("@rjsf/utils"),a=require("ajv"),t=require("ajv-formats"),i=require("lodash/isObject");function o(r){return r&&"object"==typeof r&&"default"in r?r:{default:r}}var s=o(r),n=o(a),l=o(t),d=o(i);function c(){return c=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(r[t]=a[t])}return r},c.apply(this,arguments)}var u={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0},v=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,f=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/,m=["instancePath","keyword","params","schemaPath","parentSchema"],h=function(){function r(r,a){this.ajv=void 0,this.localizer=void 0,this.ajv=function(r,a,t,i,o){void 0===t&&(t={}),void 0===o&&(o=n.default);var s=new o(c({},u,t));return i?l.default(s,i):!1!==i&&l.default(s),s.addFormat("data-url",f),s.addFormat("color",v),s.addKeyword(e.ADDITIONAL_PROPERTY_FLAG),s.addKeyword(e.RJSF_ADDITONAL_PROPERTIES_FLAG),Array.isArray(r)&&s.addMetaSchema(r),d.default(a)&&Object.keys(a).forEach((function(r){s.addFormat(r,a[r])})),s}(r.additionalMetaSchemas,r.customFormats,r.ajvOptionsOverrides,r.ajvFormatOptions,r.AjvClass),this.localizer=a}var a=r.prototype;return a.toErrorList=function(r,a){return void 0===a&&(a=[]),e.toErrorList(r,a)},a.transformRJSFValidationErrors=function(r,a){return void 0===r&&(r=[]),r.map((function(r){var t=r.instancePath,i=r.keyword,o=r.params,n=r.schemaPath,l=r.parentSchema,d=function(r,e){if(null==r)return{};var a,t,i={},o=Object.keys(r);for(t=0;t<o.length;t++)e.indexOf(a=o[t])>=0||(i[a]=r[a]);return i}(r,m).message,c=void 0===d?"":d,u=t.replace(/\//g,"."),v=(u+" "+c).trim();if("missingProperty"in o){var f=o.missingProperty,h=e.getUiOptions(s.default(a,""+(u=u?u+"."+o.missingProperty:o.missingProperty).replace(/^\./,""))).title;if(h)c=c.replace(f,h);else{var p=s.default(l,[e.PROPERTIES_KEY,f,"title"]);p&&(c=c.replace(f,p))}v=c}else{var y=e.getUiOptions(s.default(a,""+u.replace(/^\./,""))).title;if(y)v=("'"+y+"' "+c).trim();else{var g=null==l?void 0:l.title;g&&(v=("'"+g+"' "+c).trim())}}return{name:i,property:u,message:c,params:o,stack:v,schemaPath:n}}))},a.rawValidation=function(r,e){var a,t,i=void 0;r.$id&&(a=this.ajv.getSchema(r.$id));try{void 0===a&&(a=this.ajv.compile(r)),a(e)}catch(r){i=r}return a&&("function"==typeof this.localizer&&this.localizer(a.errors),t=a.errors||void 0,a.errors=null),{errors:t,validationError:i}},a.validateFormData=function(r,a,t,i,o){var s=this.rawValidation(a,r),n=s.validationError,l=this.transformRJSFValidationErrors(s.errors,o);n&&(l=[].concat(l,[{stack:n.message}])),"function"==typeof i&&(l=i(l,o));var d=e.toErrorSchema(l);if(n&&(d=c({},d,{$schema:{__errors:[n.message]}})),"function"!=typeof t)return{errors:l,errorSchema:d};var u=e.getDefaultFormState(this,a,r,a,!0),v=t(u,e.createErrorHandler(u),o),f=e.unwrapErrorHandler(v);return e.validationDataMerge({errors:l,errorSchema:d},f)},a.isValid=function(r,a,t){var i,o=null!=(i=t.$id)?i:e.ROOT_SCHEMA_PREFIX;try{void 0===this.ajv.getSchema(o)&&this.ajv.addSchema(t,o);var s,n=e.withIdRefPrefix(r);return n.$id&&(s=this.ajv.getSchema(n.$id)),void 0===s&&(s=this.ajv.compile(n)),s(a)}catch(r){return console.warn("Error encountered compiling schema:",r),!1}finally{this.ajv.removeSchema(o)}},r}();function p(r,e){return void 0===r&&(r={}),new h(r,e)}var y=p();exports.customizeValidator=p,exports.default=y;
//# sourceMappingURL=validator-ajv8.cjs.production.min.js.map
