!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("lodash-es/get"),require("@rjsf/utils"),require("ajv"),require("ajv-formats"),require("lodash-es/isObject")):"function"==typeof define&&define.amd?define(["exports","lodash-es/get","@rjsf/utils","ajv","ajv-formats","lodash-es/isObject"],e):e((r="undefined"!=typeof globalThis?globalThis:r||self)["@rjsf/validator-ajv8"]={},r.get,r.utils,r.Ajv,r.addFormats,r.isObject)}(this,(function(r,e,a,t,i,o){"use strict";function s(r){return r&&"object"==typeof r&&"default"in r?r:{default:r}}var n=s(e),l=s(t),d=s(i),c=s(o);function u(){return u=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(r[t]=a[t])}return r},u.apply(this,arguments)}var f={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0},v=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,m=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/,h=["instancePath","keyword","params","schemaPath","parentSchema"],p=function(){function r(r,e){this.ajv=void 0,this.localizer=void 0,this.ajv=function(r,e,t,i,o){void 0===t&&(t={}),void 0===o&&(o=l.default);var s=new o(u({},f,t));return i?d.default(s,i):!1!==i&&d.default(s),s.addFormat("data-url",m),s.addFormat("color",v),s.addKeyword(a.ADDITIONAL_PROPERTY_FLAG),s.addKeyword(a.RJSF_ADDITONAL_PROPERTIES_FLAG),Array.isArray(r)&&s.addMetaSchema(r),c.default(e)&&Object.keys(e).forEach((function(r){s.addFormat(r,e[r])})),s}(r.additionalMetaSchemas,r.customFormats,r.ajvOptionsOverrides,r.ajvFormatOptions,r.AjvClass),this.localizer=e}var e=r.prototype;return e.toErrorList=function(r,e){return void 0===e&&(e=[]),a.toErrorList(r,e)},e.transformRJSFValidationErrors=function(r,e){return void 0===r&&(r=[]),r.map((function(r){var t=r.instancePath,i=r.keyword,o=r.params,s=r.schemaPath,l=r.parentSchema,d=function(r,e){if(null==r)return{};var a,t,i={},o=Object.keys(r);for(t=0;t<o.length;t++)e.indexOf(a=o[t])>=0||(i[a]=r[a]);return i}(r,h).message,c=void 0===d?"":d,u=t.replace(/\//g,"."),f=(u+" "+c).trim();if("missingProperty"in o){var v=o.missingProperty,m=a.getUiOptions(n.default(e,""+(u=u?u+"."+o.missingProperty:o.missingProperty).replace(/^\./,""))).title;if(m)c=c.replace(v,m);else{var p=n.default(l,[a.PROPERTIES_KEY,v,"title"]);p&&(c=c.replace(v,p))}f=c}else{var j=a.getUiOptions(n.default(e,""+u.replace(/^\./,""))).title;if(j)f=("'"+j+"' "+c).trim();else{var y=null==l?void 0:l.title;y&&(f=("'"+y+"' "+c).trim())}}return{name:i,property:u,message:c,params:o,stack:f,schemaPath:s}}))},e.rawValidation=function(r,e){var a,t,i=void 0;r.$id&&(a=this.ajv.getSchema(r.$id));try{void 0===a&&(a=this.ajv.compile(r)),a(e)}catch(r){i=r}return a&&("function"==typeof this.localizer&&this.localizer(a.errors),t=a.errors||void 0,a.errors=null),{errors:t,validationError:i}},e.validateFormData=function(r,e,t,i,o){var s=this.rawValidation(e,r),n=s.validationError,l=this.transformRJSFValidationErrors(s.errors,o);n&&(l=[].concat(l,[{stack:n.message}])),"function"==typeof i&&(l=i(l,o));var d=a.toErrorSchema(l);if(n&&(d=u({},d,{$schema:{__errors:[n.message]}})),"function"!=typeof t)return{errors:l,errorSchema:d};var c=a.getDefaultFormState(this,e,r,e,!0),f=t(c,a.createErrorHandler(c),o),v=a.unwrapErrorHandler(f);return a.validationDataMerge({errors:l,errorSchema:d},v)},e.isValid=function(r,e,t){var i,o=null!=(i=t.$id)?i:a.ROOT_SCHEMA_PREFIX;try{void 0===this.ajv.getSchema(o)&&this.ajv.addSchema(t,o);var s,n=a.withIdRefPrefix(r);return n.$id&&(s=this.ajv.getSchema(n.$id)),void 0===s&&(s=this.ajv.compile(n)),s(e)}catch(r){return console.warn("Error encountered compiling schema:",r),!1}finally{this.ajv.removeSchema(o)}},r}();function j(r,e){return void 0===r&&(r={}),new p(r,e)}var y=j();r.customizeValidator=j,r.default=y,Object.defineProperty(r,"__esModule",{value:!0})}));
//# sourceMappingURL=validator-ajv8.umd.production.min.js.map
